account.get.all = SELECT BA.ID, BA.NUMBER, BA.CUSTOMER, BA.REGISTRATION_DATE FROM BANK_ACCOUNT AS BA
account.get.all.order = ${account.get.all} ORDER BY BA.REGISTRATION_DATE
account.get.by.id = ${account.get.all} WHERE BA.ID = :ID
account.get.by.number = ${account.get.all} WHERE BA.NUMBER = :NUMBER
account.insert = INSERT INTO BANK_ACCOUNT (NUMBER, CUSTOMER, REGISTRATION_DATE) VALUES (:NUMBER, :CUSTOMER, :REGISTRATION_DATE)
account.update = UPDATE BANK_ACCOUNT SET CUSTOMER = :CUSTOMER WHERE ID = :ID
account.delete = DELETE FROM BANK_ACCOUNT WHERE ID = :ID
account.count = SELECT COUNT(*) from BANK_ACCOUNT
account.count.number = ${account.count} AS BA WHERE BA.NUMBER = :NUMBER
account.get.cards.number = SELECT CC.NUMBER FROM BANK_ACCOUNT AS BA \
                           JOIN CREDIT_CARD AS CC ON BA.ID = CC.ACCOUNT_ID \
                           WHERE BA.ID = :ID

account.dto.get.all = SELECT BA.ID, BA.NUMBER, BA.CUSTOMER, BA.REGISTRATION_DATE, COUNT(CC.ID) AS TOTAL_CARDS \
                      FROM BANK_ACCOUNT AS BA \
                      LEFT JOIN CREDIT_CARD AS CC ON BA.ID = CC.ACCOUNT_ID \
                      GROUP BY BA.ID, BA.NUMBER, BA.CUSTOMER, BA.REGISTRATION_DATE \
                      ORDER BY BA.REGISTRATION_DATE
account.dto.get.all.by.filter = SELECT BA.ID, BA.NUMBER, BA.CUSTOMER, BA.REGISTRATION_DATE, COUNT(CC.ID) AS TOTAL_CARDS \
                                FROM BANK_ACCOUNT AS BA \
                                LEFT JOIN CREDIT_CARD AS CC ON BA.ID = CC.ACCOUNT_ID \
                                WHERE %s \
                                GROUP BY BA.ID, BA.NUMBER, BA.CUSTOMER, BA.REGISTRATION_DATE \
                                ORDER BY BA.REGISTRATION_DATE

account.dto.sql.like.template = BA.$ LIKE :$

card.get.all = SELECT CC.ID, CC.NUMBER, CC.EXPIRATION_DATE, CC.BALANCE, CC.ACCOUNT_ID FROM CREDIT_CARD AS CC
card.get.all.order = ${card.get.all} ORDER BY CC.EXPIRATION_DATE
card.get.by.id = ${card.get.all} WHERE CC.ID = :ID
card.get.by.number = ${card.get.all} WHERE CC.NUMBER = :NUMBER
card.insert = INSERT INTO CREDIT_CARD (NUMBER, EXPIRATION_DATE, ACCOUNT_ID) VALUES (:NUMBER, :EXPIRATION_DATE, :ACCOUNT_ID)
card.update = UPDATE CREDIT_CARD SET BALANCE = :BALANCE WHERE ID = :ID
card.delete = DELETE FROM CREDIT_CARD WHERE ID = :ID
card.count = SELECT COUNT(*) from CREDIT_CARD
card.count.number = ${card.count} AS CC WHERE CC.NUMBER = :NUMBER
card.get.all.by.account.id = ${card.get.all} \
                             JOIN BANK_ACCOUNT AS BA ON CC.ACCOUNT_ID = BA.ID \
                             WHERE BA.ID = :ID \
                             ORDER BY CC.EXPIRATION_DATE

card.dto.get.all = SELECT CC.ID, CC.NUMBER, CC.EXPIRATION_DATE, CC.BALANCE, CC.ACCOUNT_ID, BA.NUMBER AS ACCOUNT_NUMBER \
                   FROM CREDIT_CARD AS CC \
                   JOIN BANK_ACCOUNT AS BA ON CC.ACCOUNT_ID = BA.ID \
                   ORDER BY CC.EXPIRATION_DATE
card.dto.get.all.by.date.range = SELECT CC.ID, CC.NUMBER, CC.EXPIRATION_DATE, CC.BALANCE, CC.ACCOUNT_ID, BA.NUMBER AS ACCOUNT_NUMBER \
                                 FROM CREDIT_CARD AS CC \
                                 JOIN BANK_ACCOUNT AS BA ON CC.ACCOUNT_ID = BA.ID \
                                 WHERE %s \
                                 ORDER BY CC.EXPIRATION_DATE

card.dto.date.range.where = {'FROM_DATE': 'CC.EXPIRATION_DATE >= :FROM_DATE',\
                             'TO_DATE': 'CC.EXPIRATION_DATE <= :TO_DATE'}